addEventListener("message",({data:y})=>{const M=y.pickList,z=y.fsecCombine,b={},h={};for(const x of Object.keys(M)){const a={fx:0,fy:0,fz:0,mx:0,my:0,mz:0},d=M[x];let n=null;for(const o of d){const m=JSON.parse(JSON.stringify({temp:z[o]})).temp;if(null!=m&&null!=m)if(null!=n)for(const t of Object.keys(m)){const e=t.split("_"),i=m[t],_=n[t];for(const s of Object.keys(_)){const f=_[s];if(!(s in i))continue;const c=i[s];"max"===e[1]?c[e[0]]>f[e[0]]&&(n[t][s]=m[t][s]):c[e[0]]<f[e[0]]&&(n[t][s]=m[t][s])}for(const s of n[t])a.fx=Math.max(Math.abs(s.fx),a.fx),a.fy=Math.max(Math.abs(s.fy),a.fy),a.fz=Math.max(Math.abs(s.fz),a.fz),a.mx=Math.max(Math.abs(s.mx),a.mx),a.my=Math.max(Math.abs(s.my),a.my),a.mz=Math.max(Math.abs(s.mz),a.mz)}else{n=m;for(const t of Object.keys(m))for(const e of n[t])a.fx=Math.max(Math.abs(e.fx),a.fx),a.fy=Math.max(Math.abs(e.fy),a.fy),a.fz=Math.max(Math.abs(e.fz),a.fz),a.mx=Math.max(Math.abs(e.mx),a.mx),a.my=Math.max(Math.abs(e.my),a.my),a.mz=Math.max(Math.abs(e.mz),a.mz)}else console.log("Combine"+o+"\u304c\u306a\u3044")}b[x]=n,h[x]=a,n=null}const k={};for(const x of Object.keys(b)){const a=b[x];if(null==a||null==a){console.log("CaseData"+x+"\u304c\u306a\u3044");continue}const d=Object.keys(a),n={};for(const m of d){const t=a[m];let e;m.includes("fx")?e="fx":m.includes("fy")?e="fy":m.includes("fz")?e="fz":m.includes("mx")?e="mx":m.includes("my")?e="my":m.includes("mz")&&(e="mz");let i=m.includes("max")?Number.MIN_VALUE:Number.MAX_VALUE,_="0";if(m.includes("max"))for(let s=0;s<t.length;s++){const f=s.toString(),c=t[f][e];if(c>=i)if(i=c,""===t[f].m){let r;for(let l=s-1;l>0;l--){const u=l.toString();if(""!==t[u].m){r=t[u].m;break}}_=r}else _=t[f].m}else for(let s=0;s<t.length;s++){const f=s.toString(),c=t[f][e];if(c<=i)if(i=c,""===t[f].m){let r;for(let l=s-1;l>0;l--){const u=l.toString();if(""!==t[u].m){r=t[u].m;break}}_=r}else _=t[f].m}Math.abs(i)!==Number.MAX_VALUE&&(n[m]={max:i,max_m:_})}if(0===Object.keys(n).length)continue;const o={x:{max_d:0,max_d_m:0,min_d:0,min_d_m:0,max_r:0,max_r_m:0,min_r:0,min_r_m:0},y:{max_d:0,max_d_m:0,min_d:0,min_d_m:0,max_r:0,max_r_m:0,min_r:0,min_r_m:0},z:{max_d:0,max_d_m:0,min_d:0,min_d_m:0,max_r:0,max_r_m:0,min_r:0,min_r_m:0}};for(const m of Object.keys(o)){let t="f"+m+"_max";t in n&&(o[m].max_d=n[t].max,o[m].max_d_m=n[t].max_m),t="f"+m+"_min",t in n&&(o[m].min_d=n[t].max,o[m].min_d_m=n[t].max_m);let e="m"+m+"_max";e in n&&(o[m].max_r=n[e].max,o[m].max_r_m=n[e].max_m),e="m"+m+"_min",e in n&&(o[m].min_r=n[e].max,o[m].min_r_m=n[e].max_m)}k[x]=o}postMessage({fsecPickup:b,max_values:h,value_range:k})});